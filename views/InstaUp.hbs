<!-- Page Content -->
<div class="container">


<!-- /.row -->

<!-- Content Row -->
<div class="row">

    <!-- Blog Post Content Column -->
    <div class="col-lg-8">
        <!-- Date/Time -->
        <hr>

        <p>
            <i class="glyphicon glyphicon-screenshot"></i>
                InstaUp New Challenge
        </p>

        <hr>
        <!-- Upload a new challenge -->
        <form id="uploadform" name="uploadform" action="/InstaUp" method="POST" enctype="multipart/form-data">
            <div class="row">
                <div class="form-group">
                    <label>Food Name</label>
                    <input name ="foodname" type="text" class="form-control">
                </div>
                <div class="form-group">
                    <label>Restaurant Name</label>
                    <input name ="restaurantname" type="text" class="form-control">
                </div>
                <div class="form-group">
                    <label>Select Type</label>
                    <select name="foodtype" id="type" class="form-control">
                      <option value="1">Sweet</option>
                      <option value="2">Sour</option>
                      <option value="3">Bitter</option>
                      <option value="4">Spicy</option>
                      <option value="5">Salt</option>
                    </select>
                </div>
                <div class="form-group">
                    <label id="getLoca">Click to Get Location </label>
                    <button type="button" class="btn btn-default btn-sm" onclick="getLocation()">
                    <span class="glyphicon glyphicon-pushpin"></span>
                    Get Location
                  </button>
                  <p></p>
                    <div id="googleMap" style="width:270px;height:180px;display:none" ></div>
                </div>
                <div class="form-group" style="display:none">
                      <input id="latitude" name ="latitude" type="text" class="form-control">
                </div>
                <div class="form-group"style="display:none">
                      <input id="longitude" name ="longitude" type="text" class="form-control">
                </div>
                <div class="clearfix"></div>
                    <div class="form-group ">
                    <label>Description</label>
                    <textarea name="description" id="description"class="form-control" rows="6" draggable="false" style="resize:none"></textarea>
                </div>
                <div class="form-group">
                    <label> Upload Photo </label>
                    <input name="uploadphoto" id="uploadphoto"type="file">
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-default">Submit</button>
                </div>
            </div>
         </form>
    </div>

</div>


<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script >
    var x = document.getElementById("getLoca");
    var y = document.getElementById("googleMap");
    var lat = document.getElementById("latitude");
    var lng = document.getElementById('longitude');
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }
    function showPosition(position) {
        var latlon = position.coords.latitude + "," + position.coords.longitude;
        var myCenter=new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
        var mapProp = {
          center:myCenter,
          zoom:15,
          mapTypeId:google.maps.MapTypeId.ROADMAP
          };
        var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
        var marker=new google.maps.Marker({
          position:myCenter,
          animation:google.maps.Animation.BOUNCE
          });
        marker.setMap(map);
        y.style.display='inline-block';
        lat.value = position.coords.latitude;
        lng.value = position.coords.longitude;
    }
    function showError(error) {

        switch(error.code) {
            case error.PERMISSION_DENIED:
                x.innerHTML = "Location information is unavailable."
                break;
            case error.POSITION_UNAVAILABLE:
                x.innerHTML = "Location information is unavailable."
                break;
            case error.TIMEOUT:
                x.innerHTML = "The request to get user location timed out."
                break;
            case error.UNKNOWN_ERROR:
                x.innerHTML = "An unknown error occurred."
                break;
        }
    }
</script>
